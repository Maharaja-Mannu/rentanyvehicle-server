(this["webpackJsonp5-r-client"]=this["webpackJsonp5-r-client"]||[]).push([[0],{104:function(e,t,a){e.exports=a(119)},109:function(e,t,a){},110:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(73),l=a.n(c),i=(a(109),a(110),a(70)),o=a(12),s=a(10),u=a(11),m=a(31),d=function(e,t){switch(t.type){case"LOGIN_INIT":return Object(m.a)({},e,{isLoading:!0,token:null,message:{}});case"LOGIN_SUCCESS":return Object(m.a)({},e,{isLoading:!1,token:t.payload.token,user:t.payload.user.name,isAuthenticated:!0,message:{}});case"LOGIN_FAILURE":return Object(m.a)({},e,{isLoading:!1,isAuthenticated:!1,message:{type:t.type,text:t.payload}});case"LOGOUT_INIT":return Object(m.a)({},e,{isLoading:!0,message:{}});case"LOGOUT_SUCCESS":return Object(m.a)({},e,{isLoading:!1,token:null,user:"",isAuthenticated:!1,message:{type:t.type,text:t.payload}});case"LOGOUT_FAILURE":return Object(m.a)({},e,{isLoading:!1,message:{type:t.type,text:t.payload}});default:throw new Error("Invalid actionType")}},p=a(17),E=a(71),h=a(68);function b(e){var t=e.auth;return r.a.createElement(E.a,{bg:"light",expand:"md"},r.a.createElement(p.a,null,r.a.createElement(E.a.Brand,null,r.a.createElement(s.c,{className:"brand-nav-link",to:"/"},"M & M")),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(h.a,{className:"mr-auto"},r.a.createElement(s.c,{className:"nav-link",to:"/"},"Home"),r.a.createElement(s.c,{className:"nav-link",to:"/submitad"},"Submit Ad")),r.a.createElement(h.a,{className:"ml-auto"},t.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,{className:"nav-link mr-2",to:"/user"},t.user),r.a.createElement(s.c,{className:"nav-link",to:"/user/logout"},"Log out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,{className:"nav-link",to:"/signin"},"Sign In"),r.a.createElement(s.c,{className:"nav-link",to:"/signup"},"Sign Up"))))))}var g=a(22),v=a(6),f=a(103),y=a(64),O=a(34),w=a(15),x=a(9),S=a(5),j=a.n(S),k=a(8),N=function(e,t){switch(t.type){case"FETCH_INIT":return Object(m.a)({},e,{isLoading:!0,error:""});case"FETCH_SUCCESS":return Object(m.a)({},e,{isLoading:!1,data:t.payload.data});case"FETCH_FAILURE":return Object(m.a)({},e,{isLoading:!1,error:t.payload});default:throw new Error}},L=function(){var e=Object(k.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new Request("/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t,null,2)}));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.next=10,a.text();case 10:throw r=e.sent,new Error(r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(k.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new Request("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t,null,2)}));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.next=10,a.text();case 10:throw r=e.sent,new Error(r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(k.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new Request("/user/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:t}}));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.text();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.next=10,a.text();case 10:throw r=e.sent,new Error(r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(k.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.next=10,a.text();case 10:throw r=e.sent,new Error(r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(k.a)(j.a.mark((function e(t,a){var n,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new Request("/submitad",{method:"POST",headers:{Authorization:a},body:t}));case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.next=10,n.text();case 10:throw c=e.sent,new Error(c);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(k.a)(j.a.mark((function e(t,a,n){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new Request("/vehicle/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify(n,null,2)}));case 2:if(!(r=e.sent).ok){e.next=8;break}return e.next=6,r.text();case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.t0=Error,e.next=11,r.text();case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(k.a)(j.a.mark((function e(t,a){var n,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new Request("/vehicle/".concat(a),{method:"DELETE",headers:{Authorization:t}}));case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.text();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.next=10,n.text();case 10:throw c=e.sent,new Error(c);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(e,t){var a=Object(n.useState)(e),r=Object(o.a)(a,2),c=r[0],l=r[1],i=Object(n.useReducer)(N,{isLoading:!1,error:"",data:t}),s=Object(o.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){(function(){var e=Object(k.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m({type:"FETCH_INIT"}),e.prev=1,e.next=4,T(c);case 4:t=e.sent,m({type:"FETCH_SUCCESS",payload:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),m({type:"FETCH_FAILURE",payload:"Error: ".concat(e.t0.message)});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[c]),[u,l]},F=function(e){var t=e.label,a=e.icon,n=Object(i.a)(e,["label","icon"]),c=Object(w.b)(n.name),l=Object(o.a)(c,2),s=l[0],u=l[1];return r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{htmlFor:n.id||n.name},t),a&&r.a.createElement("span",{className:"icon material-icons"},a),r.a.createElement(v.a.Control,Object.assign({},s,n,{isInvalid:u.touched&&u.error})),r.a.createElement(v.a.Control.Feedback,{type:"invalid"},u.error))},q=function(e){var t=e.label,a=Object(i.a)(e,["label"]),n=Object(w.b)(a.name),c=Object(o.a)(n,2),l=c[0],s=c[1];return r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{htmlFor:a.id||a.name},t),r.a.createElement(v.a.Control,Object.assign({as:"select"},l,a,{isInvalid:s.touched&&s.error})),r.a.createElement(v.a.Control.Feedback,{type:"invalid"},s.error))},G=function(e){var t=Object(w.b)(e.name),a=Object(o.a)(t,1)[0];return r.a.createElement(v.a.Check,Object.assign({},a,e,{defaultChecked:a.value===e.value}))},P=Object(x.c)().shape({origin:Object(x.d)().required().max(20,"Must be 20 characters or less"),destination:Object(x.d)().required().max(20,"Must be 20 characters or less"),date:Object(x.a)().required()});var H=function(e){var t=e.state;return t.error?r.a.createElement("p",{className:"text-danger"},t.error):t.data.length<1?r.a.createElement("p",null,"No result Found"):t.data.map((function(e,t){return r.a.createElement(s.c,{to:"/vehicle/".concat(e._id),key:t,className:"col-6 col-sm-4 p-2"},r.a.createElement(O.a,{key:t},r.a.createElement(O.a.Img,{variant:"top",src:"avatar/".concat(e.images)}),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Text,null,e.origin))))}))},D=function(){var e={category:"Car",origin:"Poreyahat",destination:"Deoghar",date:(new Date).toLocaleDateString("en-GB").split("/").reverse().join("-")},t=A(new Request("/vehicle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e,null,2)}),[]),a=Object(o.a)(t,2),n=a[0],c=a[1],l=r.a.createElement(H,{state:n});return r.a.createElement("div",{className:"container my-3"},r.a.createElement("div",{className:"search-form"},r.a.createElement(w.a,{initialValues:e,validationSchema:P,onSubmit:function(e,t){var a=new Request("/vehicle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e,null,2)});c(a),t.setSubmitting(!1)}},(function(e){var t=e.handleSubmit,a=e.isSubmitting;return r.a.createElement(v.a,{noValidate:!0,onSubmit:t},r.a.createElement("div",{className:"pt-3"},r.a.createElement(G,{inline:!0,label:"Car",type:"radio",id:"rb",name:"category",value:"Car"}),r.a.createElement(G,{inline:!0,label:"Bus",type:"radio",id:"rb2",name:"category",value:"Bus"}),r.a.createElement(G,{inline:!0,label:"Truck",type:"radio",id:"rb3",name:"category",value:"Truck"})),r.a.createElement(f.a,{xs:2,md:3},r.a.createElement(y.a,null,r.a.createElement(F,{type:"text",placeholder:"Origin",name:"origin",className:"__p-2"})),r.a.createElement(y.a,null,r.a.createElement(F,{type:"text",placeholder:"Destination",name:"destination",className:"__p-2"})),r.a.createElement(y.a,{xs:12,className:"mt-2 mt-md-0"},r.a.createElement(F,{type:"date",name:"date"}))),r.a.createElement(g.a,{type:"submit",className:"btn-search",disabled:a},"Search"))}))),r.a.createElement("div",{className:"row my-4 px-3"},n.isLoading?r.a.createElement("p",{className:"text-primary"},"Loading..."):l))},B=a(20),V=[Object(x.c)().shape({category:Object(x.d)().required(),brand:Object(x.d)().required(),origin:Object(x.d)().required()}),Object(x.c)().shape({images:Object(x.b)().required()})],z=Object(x.c)().shape({category:Object(x.d)().required()}),W=Object(x.c)().shape({username:Object(x.d)().required("Required"),password:Object(x.d)().required("Required")});function J(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"py-2"},r.a.createElement("label",null,"Choose category"),r.a.createElement("div",null,r.a.createElement(G,{inline:!0,type:"radio",name:"category",value:"Car",id:"rb",label:"Car"}),r.a.createElement(G,{inline:!0,type:"radio",name:"category",value:"Bus",id:"rb1",label:"Bus"}),r.a.createElement(G,{inline:!0,type:"radio",name:"category",value:"Truck",id:"rb2",label:"Truck"}))),r.a.createElement(q,{name:"brand",label:"Brand",id:"brand"},r.a.createElement("option",null,"Choose brand"),r.a.createElement("option",null,"Volvo"),r.a.createElement("option",null,"Suzuki"),r.a.createElement("option",null,"Honda")),r.a.createElement(q,{name:"model",label:"Model",id:"model"},r.a.createElement("option",null,"Choose Model"),r.a.createElement("option",null,"Q3"),r.a.createElement("option",null,"Dezire"),r.a.createElement("option",null,"Brizza")),r.a.createElement(F,{type:"text",name:"reg_number",label:"Vehicle Registration Number",id:"reg_no",placeholder:"e.g. JH 17G 8737"}),r.a.createElement(F,{type:"text",name:"origin",label:"Origin City",placeholder:"Enter origin city (or village) name"}))}var M=a(83);function Y(e){var t=e.imgUrl,a=e.setImgUrl,n=Object(w.c)().setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.File,{label:"Upload Image",name:"images",onChange:function(e){n("images",e.currentTarget.files[0]),function(e){var t=new FileReader,n=e.target.files[0];t.onloadend=function(){a(t.result)},t.readAsDataURL(n)}(e)}})),t&&r.a.createElement(M.a,{src:t,thumbnail:!0,alt:"Upload vehicle",width:"200"}))}function K(e){var t=e.imgUrl,a=Object(w.c)().values,n=Object.entries(a).map((function(e,a){return"images"===e[0]?r.a.createElement(v.a.Group,{key:a},r.a.createElement(v.a.Label,null,e[0]),r.a.createElement(M.a,{src:t,alt:"vehicle",width:"200"})):r.a.createElement(v.a.Group,{key:a},r.a.createElement(v.a.Label,null,e[0]),r.a.createElement(v.a.Control,{type:"text",value:e[1],readOnly:!0}))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Review & Submit"),n)}var Q=["Vehicle detail","Upload photos","Review and Submit"];function $(e){var t=e.auth,a=r.a.useState(0),n=Object(o.a)(a,2),c=n[0],l=n[1],i=c===Q.length-1,s=r.a.useState({}),u=Object(o.a)(s,2),m=u[0],d=u[1],E=r.a.useState(""),h=Object(o.a)(E,2),b=h[0],f=h[1];var y=function(){l(c-1)};return r.a.createElement(p.a,{className:"py-2"},m.text&&r.a.createElement(B.a,{variant:m.type},r.a.createElement(B.a.Heading,null,"success"===m.type?"Success":"Error"),r.a.createElement("p",null,m.text)),r.a.createElement(w.a,{initialValues:{category:"Car",brand:"Suzuki",model:"Dezire",origin:"Poreyahat",reg_number:"",images:null},validationSchema:V[c],onSubmit:function(e,a){if(i){d({});var n=new FormData;for(var r in e)n.append(r,e[r]);(function(){var e=Object(k.a)(j.a.mark((function e(){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(n,t.token);case 3:r=e.sent,d({type:"success",text:"Your Ad with id: ".concat(r._id," is created successfully.")}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d({type:"danger",text:e.t0.message});case 10:a.setSubmitting(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()(),document.documentElement.scrollTo({top:0,behavior:"smooth"})}else l(c+1),a.setTouched({}),a.setSubmitting(!1)}},(function(e){var t=e.handleSubmit,a=e.isSubmitting;return r.a.createElement(v.a,{onSubmit:t},r.a.createElement("div",{className:"bg-light py-1"},r.a.createElement("ul",{id:"progressbar"},Q.map((function(e,t){return r.a.createElement("li",{key:t,className:t<=c?"active":""},e)})))),r.a.createElement("div",{className:"py-2 m-auto",style:{maxWidth:"40rem"}},function(e){switch(e){case 0:return r.a.createElement(J,null);case 1:return r.a.createElement(Y,{imgUrl:b,setImgUrl:f});case 2:return r.a.createElement(K,{imgUrl:b});default:throw new Error("Unknown step")}}(c)),r.a.createElement("div",{className:"text-right"},0!==c&&r.a.createElement(g.a,{onClick:y},"Back")," ",r.a.createElement(g.a,{type:"submit",disabled:a},i?"Submit":"Next")))})))}function X(e){var t=e.auth,a=e.dispatch,n=Object(u.g)(),c=(Object(u.h)().state||{from:{pathname:"/user"}}).from,l=t.message,i=function(){var e=Object(k.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOGIN_INIT"}),e.prev=1,e.next=4,L(t);case 4:r=e.sent,a({type:"LOGIN_SUCCESS",payload:r}),localStorage.setItem("token",r.token),localStorage.setItem("user",r.user.name),n.replace(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a({type:"LOGIN_FAILURE",payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(p.a,null,r.a.createElement(w.a,{initialValues:{username:"",password:""},validationSchema:W,onSubmit:i},(function(e){var t=e.handleSubmit,a=e.isSubmitting;return r.a.createElement(v.a,{noValidate:!0,onSubmit:t,className:"col-sm-6 py-3"},"LOGIN_FAILURE"===l.type&&r.a.createElement(B.a,{variant:"danger"},r.a.createElement(B.a.Heading,null,"Error"),r.a.createElement("p",null,l.text)),r.a.createElement("h2",null,"Sign In"),r.a.createElement(F,{label:"Email",type:"email",name:"username",placeholder:"Enter email"}),r.a.createElement(F,{label:"Password",type:"password",name:"password",placeholder:"Enter password"}),r.a.createElement(g.a,{type:"submit",disabled:a},a?"Loading...":"Sign in"))})))}var Z=Object(x.c)().shape({name:Object(x.d)().required("Required"),username:Object(x.d)().required("Required").email("Please enter valid email"),password:Object(x.d)().required("Required").min(8,"Password must be atleast 8 characters"),cnfpwd:Object(x.d)().required("Required")});function ee(e){var t=e.auth,a=e.dispatch,n=Object(u.g)(),c=Object(u.h)(),l=t.message,i=(c.state||{from:{pathname:"/user"}}).from,o=function(){var e=Object(k.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOGIN_INIT"}),e.prev=1,e.next=4,C(t);case 4:r=e.sent,localStorage.setItem("token",r.token),localStorage.setItem("user",r.user.name),a({type:"LOGIN_SUCCESS",payload:r}),n.replace(i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a({type:"LOGIN_FAILURE",payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(p.a,null,r.a.createElement(w.a,{initialValues:{name:"",username:"",password:"",cnfpwd:""},validationSchema:Z,onSubmit:o},(function(e){var t=e.handleSubmit,a=e.isSubmitting;return r.a.createElement(v.a,{noValidate:!0,onSubmit:t,className:"col-sm-6 py-3"},"LOGIN_FAILURE"===l.type&&r.a.createElement(B.a,{variant:"danger"},r.a.createElement(B.a.Heading,null,"Error"),r.a.createElement("p",null,l.text)),r.a.createElement("h2",null,"Sign In"),r.a.createElement(F,{label:"Name",type:"text",name:"name",placeholder:"Enter name"}),r.a.createElement(F,{label:"Email",type:"email",name:"username",placeholder:"Enter email"}),r.a.createElement(F,{label:"Password",type:"password",name:"password",placeholder:"Enter password"}),r.a.createElement(F,{label:"Confirm Password",type:"password",name:"cnfpwd",placeholder:"Re-enter password"}),r.a.createElement(g.a,{type:"submit",disabled:a},a?"Loading...":"Sign up"))})))}function te(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),i=Object(o.a)(l,2),s=i[0],m=i[1],d=Object(u.i)().id,p=localStorage.getItem("token");Object(n.useEffect)((function(){(function(){var e=Object(k.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T("/vehicle/".concat(d));case 3:t=e.sent,a=t.data,c(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m({type:"error",text:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[d]);var E=function(){var e=Object(k.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(),e.prev=1,e.next=4,_(d,p,t);case 4:a=e.sent,m({type:"success",text:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),m({type:"error",text:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Update Ad"),s&&r.a.createElement(B.a,{variant:"error"===s.type?"danger":"success"},r.a.createElement(B.a.Heading,null,"error"!==s.type?"Success":"Error"),r.a.createElement("p",null,s.text)),a?r.a.createElement(w.a,{initialValues:a,validationSchema:z,onSubmit:E},(function(e){var t=e.handleSubmit,a=e.isSubmitting;return r.a.createElement(v.a,{onSubmit:t},r.a.createElement(J,null),r.a.createElement(g.a,{type:"submit",disabled:a},a?"Loading...":"Update"))})):!s&&r.a.createElement("p",{className:"text-primary"},"Loading..."))}function ae(){var e=Object(u.j)(),t=e.path,a=e.url;return r.a.createElement(p.a,null,r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-2 p-0"},r.a.createElement(h.a,{defaultActiveKey:"/",className:"flex-md-column"},r.a.createElement(s.c,{to:"".concat(a),className:"nav-link"},"Ads"),r.a.createElement(s.c,{to:"".concat(a,"/vehicle"),className:"nav-link"},"Vehicle"))),r.a.createElement("div",{className:"col-md-10 bg-light"},r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"".concat(t,"/update/:id")},r.a.createElement(te,null)),r.a.createElement(u.b,{path:"".concat(t,"/vehicle")},r.a.createElement("div",null,r.a.createElement("p",null,"vehicle"))),r.a.createElement(u.b,{path:t},r.a.createElement(ne,null))))))}function ne(){var e=r.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],c=localStorage.getItem("token"),l=A(new Request("/user/ads",{headers:{"Content-Type":"application/json",Authorization:c}}),[]),i=Object(o.a)(l,2),s=i[0],u=i[1],m=function(){var e=Object(k.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,R(c,t);case 4:u(new Request("/user/ads",{headers:{"Content-Type":"application/json",Authorization:c}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0.message);case 10:n(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),d=r.a.createElement(re,{state:s,handleDelete:m});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"My Ads"),a&&r.a.createElement("div",{className:"delete-alert"},r.a.createElement("h5",{className:"text-danger text-center"},"Deleting...")),r.a.createElement("div",{className:"row my-4 px-3"},s.isLoading?r.a.createElement("p",{className:"text-primary"},"Loading..."):d))}function re(e){var t=e.state,a=e.handleDelete,n=Object(u.j)();return t.error?r.a.createElement("p",{className:"text-danger"},t.error):t.data.length<1?r.a.createElement("p",null,"No result Found"):t.data.map((function(e,t){return r.a.createElement(O.a,{className:"col-6 col-sm-4 p-1",key:t},r.a.createElement(O.a.Img,{variant:"top",src:"../avatar/".concat(e.images)}),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Text,null,e.origin)),r.a.createElement("div",{style:{position:"absolute",top:0,right:0}},r.a.createElement(s.b,{to:"".concat(n.url,"/update/").concat(e._id)},r.a.createElement(g.a,{variant:"light"},"Edit")),r.a.createElement(g.a,{variant:"light",onClick:function(){return a(e._id)}},"Delete")))}))}function ce(e){var t=e.auth,a=e.dispatch,c=t.message,l=t.token;return Object(n.useEffect)((function(){(function(){var e=Object(k.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOGOUT_INIT"}),e.prev=1,e.next=4,I(l);case 4:t=e.sent,localStorage.removeItem("token"),a({type:"LOGOUT_SUCCESS",payload:t}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),localStorage.removeItem("token"),a({type:"LOGOUT_FAILURE",payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(p.a,{className:"pt-2"},t.isLoading&&r.a.createElement("p",{className:"text-primary"},"Loading..."),("LOGOUT_SUCCESS"===c.type||"LOGOUT_FAILURE"===c.type)&&r.a.createElement(B.a,{variant:"LOGOUT_SUCCESS"===c.type?"success":"danger"},r.a.createElement(B.a.Heading,null,"LOGOUT_SUCCESS"===c.type?"Success":"Error"),r.a.createElement("p",null,c.text),r.a.createElement("p",null,"LOGOUT_SUCCESS"===c.type?r.a.createElement(s.c,{to:"/signin"},"Login again"):"You are not Logged in")))}a(118);function le(){return r.a.createElement(p.a,{className:"text-center pt-5"},r.a.createElement("h3",null,"404 - Page Not Found"),r.a.createElement("p",null,"The page is missing."))}function ie(e){var t=Object(u.i)().id;return r.a.createElement(p.a,null,r.a.createElement("h1",null,"Details"),r.a.createElement("p",null,t))}function oe(e){var t=e.children,a=e.auth,n=Object(i.a)(e,["children","auth"]);return r.a.createElement(u.b,Object.assign({},n,{render:function(e){var n=e.location;return a.isAuthenticated?t:r.a.createElement(u.a,{to:{pathname:"/signin",state:{from:n}}})}}))}var se=function(){var e={isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token"),user:localStorage.getItem("user"),message:{}},t=Object(n.useReducer)(d,e),a=Object(o.a)(t,2),c=a[0],l=a[1];return r.a.createElement(s.a,null,r.a.createElement(b,{auth:c}),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(D,null)),r.a.createElement(u.b,{path:"/vehicle/:id"},r.a.createElement(ie,null)),r.a.createElement(u.b,{path:"/signin"},r.a.createElement(X,{auth:c,dispatch:l})),r.a.createElement(u.b,{path:"/user/logout"},r.a.createElement(ce,{auth:c,dispatch:l})),r.a.createElement(oe,{path:"/user",auth:c},r.a.createElement(ae,null)),r.a.createElement(oe,{path:"/submitad",auth:c},r.a.createElement($,{auth:c})),r.a.createElement(u.b,{path:"/signup"},r.a.createElement(ee,{auth:c,dispatch:l})),r.a.createElement(u.b,{path:"/*"},r.a.createElement(le,null))))},ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ue?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):me(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):me(t,e)}))}}()}},[[104,1,2]]]);
//# sourceMappingURL=main.1871d885.chunk.js.map